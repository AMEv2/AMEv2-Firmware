 /*********************************************************************************************************************
 * Filename  : ame_stepper.h
 * Author    : ChristiaanAlberts
 * Created on: 26 September 2022
  ********************************************************************************************************************/
/*********************************************************************************************************************
 * @file   	ame_stepper.h
 * @brief  	Stepper motor control
 *
 *********************************************************************************************************************/
#ifndef AME_STEPPER_H_
#define AME_STEPPER_H_

/**********************************************************************************************************************
* Includes
**********************************************************************************************************************/
#include <stdint.h>
#include <stdbool.h>

#ifdef __cplusplus
extern “C” {
#endif



/**********************************************************************************************************************
* Preprocessor Constants
**********************************************************************************************************************/


/**********************************************************************************************************************
* Global Configuration Constants
**********************************************************************************************************************/


/**********************************************************************************************************************
* Global Macros
**********************************************************************************************************************/

	
/**********************************************************************************************************************
* Global Typedefs
**********************************************************************************************************************/


/**********************************************************************************************************************
* Global Variables
**********************************************************************************************************************/


/**********************************************************************************************************************
* Global Function Prototypes
**********************************************************************************************************************/
/**
 * @brief Stepper motor control main task. Controls both CHAM and Case Feeder Stepper
*/
void AME_STEPPER_Task(void* pvArgs);

/**
 * @brief Start adjusting of case shelf height. Height is set in CONFIG module, before calling this function
 * 
 */
void AME_STEPPER_AdjustHeight(void);

/**
 * @brief Start fetch case sequence. Case will be fetched but not dropped.
 * 
 */
void AME_STEPPER_FetchCase(void);

/**
 * @brief Check if case is ready to drop
 * 
 * @return true Ready to drop
 * @return false not ready to drop
 */
bool AME_CASE_FEEDER_IsCaseReadyToDrop(void);

/**
 * @brief Drop case from feeder to shelf.
 * 
 */
void AME_STEPPER_DropCase(void);

/**
 * @brief Stop stepper motors
 * 
 */
void AME_STEPPER_GoIdle(void);

#ifdef __cplusplus
}
#endif

#endif /* AME_STEPPER_H_ */

/*** End of File *****************************************************************************************************/
